<!DOCTYPE html>
<html>
  <head>
    <title>My App</title>
    <script>
      // ========================================
      // Credits:
      // - https://stackoverflow.com/a/50259501
      // - https://stackoverflow.com/a/50247140
      // ========================================
      const segment = 1

      sessionStorage.setItem('redirect', '/' + location.pathname
        .slice(1)
        .split('/')
        .slice(segment)
        .join('/')
      )

      sessionStorage.setItem('query', location.search)

      location.replace(location.pathname
        .split('/')
        .slice(0, 1 + segment)
        .join('/')
      )
    </script>
  </head>
</html>