(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c221c654"],{"0a2f":function(t,e,n){"use strict";var a=n("73d3"),i=n.n(a);i.a},"2c11":function(t,e,n){},"73d3":function(t,e,n){},b56d:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:t.value,"max-width":"800"},on:{input:function(e){return t.$emit("input",e)}}},[n("v-card",[n("vue-file-agent",{ref:"uploader",attrs:{multiple:!0,deletable:!0,meta:!1,maxFiles:10},on:{delete:t.deleteFile},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(e){return t.$emit("input",!1)}}},[t._v("Back")]),n("v-btn",{attrs:{color:"primary",text:"",loading:t.uploading,disabled:t.uploading||!t.files.length},on:{click:t.uploadFiles}},[t._v("\n        Upload "+t._s((t.files.length?t.files.length+" file":"")+(t.files.length>1?"s":""))+"\n      ")])],1)],1)],1)},i=[],l={props:{value:{type:Boolean,default:!1}},data:function(){return{files:[],uploading:!1}},computed:{token:function(){return this.$store.getters.token},isLoggedIn:function(){return this.$store.getters.isLoggedIn},baseURL:function(){return"http://localhost:8000/api"}},methods:{uploadFiles:function(){var t=this;if(this.isLoggedIn){this.uploading=!0;var e="http://localhost:8000/api/uploads",n={Authorization:"Bearer ".concat(this.token)};this.$refs.uploader.upload(e,n,this.files).then((function(e){t.$emit("finish",e.map((function(e){var n=e.data;return n?"".concat(t.baseURL,"/download/").concat(n.file.filename):null})).filter((function(t){return!!t})))})).catch((function(t){return console.log(t)})).finally((function(){t.uploading=!1,t.files=[],t.$emit("input",!1)}))}},deleteFile:function(t){var e=this.files.indexOf(t);this.files.splice(e,1)}}},c=l,s=(n("0a2f"),n("2877")),o=n("6544"),r=n.n(o),u=n("8336"),d=n("b0af"),f=n("99d9"),p=n("169a"),h=n("2fa4"),m=Object(s["a"])(c,a,i,!1,null,null,null);e["a"]=m.exports;r()(m,{VBtn:u["a"],VCard:d["a"],VCardActions:f["a"],VDialog:p["a"],VSpacer:h["a"]})},dbd4:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"teacher-circle container"},[n("attachment-list",{attrs:{files:t.attachmentLinks,deletable:!0},on:{delete:t.deleteAttachment}}),n("v-btn",{attrs:{text:"",rounded:"",depressed:"",large:""},on:{click:function(e){t.showUploader=!0}}},[n("v-icon",[t._v("mdi-paperclip")]),n("span",{staticClass:"ml-2"},[t._v("Upload new files")])],1),n("file-uploader",{on:{finish:t.receiveAttachments},model:{value:t.showUploader,callback:function(e){t.showUploader=e},expression:"showUploader"}})],1)},i=[],l=(n("a481"),n("75fc")),c=n("b56d"),s=n("f80d"),o={components:{FileUploader:c["a"],AttachmentList:s["a"]},data:function(){return{showUploader:!1,attachmentLinks:[]}},methods:{receiveAttachments:function(t){this.attachmentLinks=[].concat(Object(l["a"])(this.attachmentLinks),Object(l["a"])(t))},deleteAttachment:function(t){var e=this;this.$http.delete(t.replace("download","uploads")).then((function(){var n=e.attachmentLinks.indexOf(t);e.attachmentLinks.splice(n,1)}))}}},r=o,u=n("2877"),d=n("6544"),f=n.n(d),p=n("8336"),h=n("132d"),m=Object(u["a"])(r,a,i,!1,null,"8d377c78",null);e["default"]=m.exports;f()(m,{VBtn:p["a"],VIcon:h["a"]})},e074:function(t,e,n){"use strict";var a=n("2c11"),i=n.n(a);i.a},f80d:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"attachment-list"},t._l(t.filenames,(function(e,a){return n("v-card",{key:e,staticClass:"attachment pa-4 ma-2",attrs:{outlined:""}},[n("div",{staticClass:"d-flex align-center"},[n("div",{staticClass:"flex-grow-1 d-flex text-truncate"},[n("v-icon",{attrs:{color:"primary"}},[t._v("mdi-file-document")]),n("a",{staticClass:"d-inline-block ml-2 subtitle-2 text-truncate",attrs:{target:"_blank"},on:{click:function(e){return t.fetchAttachment(t.files[a])}}},[t._v("\n          "+t._s(e.substring(33))+"\n        ")])],1),t.deletable?n("v-icon",{staticClass:"ml-2 grey--text",on:{click:function(e){return t.$emit("delete",t.files[a])}}},[t._v("mdi-close")]):t._e()],1)])})),1)},i=[],l=(n("a481"),{props:{files:{type:Array,required:!0},deletable:{type:Boolean,default:!1}},computed:{filenames:function(){var t=this;return this.files.map((function(e){return e.replace("".concat(t.baseURL,"/download/"),"")}))},baseURL:function(){return"http://localhost:8000/api"}},methods:{fetchAttachment:function(t){var e=this;this.$http.get(t,{responseType:"blob"}).then((function(n){var a=window.URL.createObjectURL(new Blob([n.data])),i=document.createElement("a");i.href=a,i.setAttribute("download",t.replace("".concat(e.baseURL,"/download/"),"")),document.body.appendChild(i),i.click()}))}}}),c=l,s=(n("e074"),n("2877")),o=n("6544"),r=n.n(o),u=n("b0af"),d=n("132d"),f=Object(s["a"])(c,a,i,!1,null,"50db7b53",null);e["a"]=f.exports;r()(f,{VCard:u["a"],VIcon:d["a"]})}}]);
//# sourceMappingURL=chunk-c221c654.e6918f99.js.map