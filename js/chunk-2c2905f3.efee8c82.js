(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c2905f3"],{"0fd9":function(t,e,r){"use strict";r("8e6e");var n=r("bd86"),a=(r("5df3"),r("f400"),r("a481"),r("ac6a"),r("456d"),r("6762"),r("2fdb"),r("4b85"),r("2b0e")),o=r("d9f7"),s=r("80d2");function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=["sm","md","lg","xl"],l=["start","end","center"];function d(t,e){return u.reduce((function(r,n){return r[t+Object(s["x"])(n)]=e(),r}),{})}var f=function(t){return[].concat(l,["baseline","stretch"]).includes(t)},p=d("align",(function(){return{type:String,default:null,validator:f}})),h=function(t){return[].concat(l,["space-between","space-around"]).includes(t)},v=d("justify",(function(){return{type:String,default:null,validator:h}})),m=function(t){return[].concat(l,["space-between","space-around","stretch"]).includes(t)},g=d("alignContent",(function(){return{type:String,default:null,validator:m}})),b={align:Object.keys(p),justify:Object.keys(v),alignContent:Object.keys(g)},y={align:"align",justify:"justify",alignContent:"align-content"};function w(t,e,r){var n=y[t];if(null!=r){if(e){var a=e.replace(t,"");n+="-".concat(a)}return n+="-".concat(r),n.toLowerCase()}}var O=new Map;e["a"]=a["default"].extend({name:"v-row",functional:!0,props:c(c(c({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:f}},p),{},{justify:{type:String,default:null,validator:h}},v),{},{alignContent:{type:String,default:null,validator:m}},g),render:function(t,e){var r=e.props,a=e.data,s=e.children,i="";for(var c in r)i+=String(r[c]);var u=O.get(i);return u||function(){var t,e;for(e in u=[],b)b[e].forEach((function(t){var n=r[t],a=w(e,t,n);a&&u.push(a)}));u.push((t={"no-gutters":r.noGutters,"row--dense":r.dense},Object(n["a"])(t,"align-".concat(r.align),r.align),Object(n["a"])(t,"justify-".concat(r.justify),r.justify),Object(n["a"])(t,"align-content-".concat(r.alignContent),r.alignContent),t)),O.set(i,u)}(),t(r.tag,Object(o["a"])(a,{staticClass:"row",class:u}),s)}})},"386d":function(t,e,r){"use strict";var n=r("cb7c"),a=r("83a1"),o=r("5f1b");r("214f")("search",1,(function(t,e,r,s){return[function(r){var n=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=s(r,t,this);if(e.done)return e.value;var i=n(t),c=String(this),u=i.lastIndex;a(u,0)||(i.lastIndex=0);var l=o(i,c);return a(i.lastIndex,u)||(i.lastIndex=u),null===l?-1:l.index}]}))},"4b85":function(t,e,r){},"4bd4":function(t,e,r){"use strict";r("8e6e"),r("456d");var n=r("bd86"),a=(r("7514"),r("ac6a"),r("8615"),r("6762"),r("2fdb"),r("58df")),o=r("7e2b"),s=r("3206");function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}e["a"]=Object(a["a"])(o["a"],Object(s["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,r=function(t){return t.$watch("hasError",(function(r){e.$set(e.errorBag,t._uid,r)}),{immediate:!0})},n={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=t.$watch("shouldValidate",(function(a){a&&(e.errorBag.hasOwnProperty(t._uid)||(n.valid=r(t)))})):n.valid=r(t),n},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var r=this.watchers.find((function(t){return t._uid===e._uid}));r&&(r.valid(),r.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:c({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},"751a":function(t,e,r){"use strict";r("7f7f"),r("55dd"),r("386d");var n=r("bc3a"),a=r.n(n),o={checkValid:function(t){return a.a.head("users/".concat(t))},checkCourse:function(t){return a.a.head("courses/".concat(t))},getPosts:function(t){var e=t.search,r=t.tags,n=t.sort,o=t.page,s=t.size,i=void 0===s?10:s,c="forum/posts?";return e&&(c+="search=".concat(e,"&")),r&&(c+="tags=".concat(r.join(","),"&")),n&&(c+="sort=".concat(n,"&")),o&&(c+="page=".concat(o,"&")),c+="size=".concat(i),a.a.get(c)},readCourse:function(t){return a.a.get("courses/".concat(t))},getPost:function(t){var e=t.id,r=t.size,n=void 0===r?10:r;return a.a.get("/forum/posts/".concat(e,"?size=").concat(n))},getComments:function(t){var e=t.id,r=t.page,n=t.reply,o="/forum/posts/".concat(e,"/comments?");return r?o+="page=".concat(r,"&"):n?o+="reply=".concat(n,"&"):n&&r&&(o+="page=".concat(r,"&reply=").concat(n)),a.a.get(o)},magicCubeFinished:function(t){return a.a.get("game/".concat(t,"/magic-cube"))},solveThemFinished:function(t){return a.a.get("game/".concat(t,"/solve-them"))},getFollowingActivities:function(){return a.a.get("user/updates")},registerUser:function(t,e,r,n){return a.a.post("users",{username:t,password:e,email:r,resend:n})},verifyUser:function(t,e,r){return a.a.post("auth/verify/".concat(t),{token:e,cancel:r})},activateUser:function(t,e,r,n,o,s,i){return a.a.post("auth/activate/".concat(t),{role:e,firstName:r,lastName:n,gender:o,school:s,interests:i})},forgotPassword:function(t,e){return a.a.post("auth/forgot-password",{username:t,email:e})},updateUser:function(t,e,r,n,o,s){return a.a.post("users/update/".concat(t),{email:e,firstName:r,lastName:n,school:o,interests:s})},updateUserWithPassword:function(t,e,r,n,o,s,i){return a.a.post("users/update-with-password/".concat(t),{password:e,email:r,firstName:n,lastName:o,school:s,interests:i})},cancelToken:function(t,e){return a.a.post("auth/cancel-token/".concat(e),{username:t})},resetPassword:function(t,e,r){return a.a.post("auth/reset-password",{username:t,password:e,token:r})},createCourse:function(t){var e=t.name,r=t.description,n=t.tags,o=t.chapters;return a.a.post("courses",{name:e,description:r,tags:n,chapters:o})},createPost:function(t,e,r){return a.a.post("forum/posts",{title:t,content:e,tags:r})},createComment:function(t,e,r){return a.a.post("/forum/posts/".concat(t,"/comments"),{content:e,reply:r})},publishCourse:function(t){return a.a.post("courses/".concat(t,"/publish"))},unpublishCourse:function(t){return a.a.post("courses/".concat(t,"/unpublish"))},reactPost:function(t,e){return a.a.post("forum/posts/".concat(t,"/react"),e)},reactComment:function(t,e,r){return a.a.post("forum/posts/".concat(t,"/comments/").concat(e,"/react"),r)},updateUserMeterLevel:function(t,e){return a.a.post("users/".concat(t,"/update-level"),{level:e})},followUser:function(t){return a.a.post("/users/".concat(t,"/followers"))},updateCourse:function(t){var e=t._id,r=t.name,n=t.description,o=t.tags,s=t.chapters;return a.a.put("courses/".concat(e),{name:r,description:n,tags:o,chapters:s})},updatePost:function(t){var e=t.id,r=t.title,n=t.content,o=t.tags;return a.a.patch("forum/posts/".concat(e),{title:r,content:n,tags:o})},unfollowUser:function(t){return a.a.put("/users/".concat(t,"/followers"))},deleteCourse:function(t){return a.a.delete("courses/".concat(t))},deletePost:function(t){return a.a.delete("forum/posts/".concat(t))}};e["a"]=o},a523:function(t,e,r){"use strict";r("f559"),r("ac6a"),r("456d"),r("20f6"),r("4b85");var n=r("2b0e");function a(t){return n["default"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,r){var n=r.props,a=r.data,o=r.children;a.staticClass="".concat(t," ").concat(a.staticClass||"").trim();var s=a.attrs;if(s){a.attrs={};var i=Object.keys(s).filter((function(t){if("slot"===t)return!1;var e=s[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e}));i.length&&(a.staticClass+=" ".concat(i.join(" ")))}return n.id&&(a.domProps=a.domProps||{},a.domProps.id=n.id),e(n.tag,a,o)}})}var o=r("d9f7");e["a"]=a("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var r,n=e.props,a=e.data,s=e.children,i=a.attrs;return i&&(a.attrs={},r=Object.keys(i).filter((function(t){if("slot"===t)return!1;var e=i[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e}))),n.id&&(a.domProps=a.domProps||{},a.domProps.id=n.id),t(n.tag,Object(o["a"])(a,{staticClass:"container",class:Array({"container--fluid":n.fluid}).concat(r||[])}),s)}})},aa2f:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"register-page"},[r("div",{staticClass:"container"},[r("div",{staticClass:"mb-5 text-center"},[t.username?r("v-card",{attrs:{flat:""}},[r("v-card-title",{staticClass:"mb-3"},[t._v(t._s(t.header))]),r("v-card-text",[t._v("Please provide us some information for further registration.")]),r("v-form",{model:{value:t.activateForm,callback:function(e){t.activateForm=e},expression:"activateForm"}},[r("v-container",[r("v-row",[r("v-select",{attrs:{items:t.roles,rules:t.rules.select,label:"Your role",outlined:"",dense:""},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1),r("v-row",[r("v-text-field",{attrs:{counter:20,rules:t.rules.name,label:"First Name",outlined:"",dense:""},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}}),r("v-text-field",{attrs:{counter:20,rules:t.rules.name,label:"Last Name",outlined:"",dense:""},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}}),r("v-select",{attrs:{items:t.genders,rules:t.rules.select,label:"Gender",outlined:"",dense:""},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}})],1),r("v-row",[r("v-text-field",{attrs:{counter:50,rules:t.rules.school,label:"School Name",outlined:"",dense:""},model:{value:t.school,callback:function(e){t.school=e},expression:"school"}})],1),r("v-row",[r("v-select",{attrs:{items:t.interests,rules:t.rules.select,"deletable-chips":"",clearable:"",multiple:"",label:"Area of Interests",outlined:"",dense:""},model:{value:t.interest,callback:function(e){t.interest=e},expression:"interest"}})],1)],1),r("v-card-actions",[r("div",{staticClass:"flex-grow-1"}),r("v-btn",{attrs:{color:"primary",text:""},on:{click:t.activateUser}},[t._v("Continue")])],1)],1)],1):t._e()],1),r("v-dialog",{attrs:{"max-width":"500"},model:{value:t.errorDialog,callback:function(e){t.errorDialog=e},expression:"errorDialog"}},[r("v-card",{staticClass:"pt-3"},[r("v-card-title",{staticClass:"headline mb-3"},[t._v("Something went wrong...")]),r("v-card-text",[t._v("\n          There is an error at the moment. Please check your input and try again later!\n        ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.errorDialog=!1}}},[t._v("OK")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"500"},model:{value:t.updateSuccess,callback:function(e){t.updateSuccess=e},expression:"updateSuccess"}},[r("v-card",{staticClass:"pt-3"},[r("v-card-title",{staticClass:"headline mb-3"},[t._v("You have completed your registration!")]),r("v-card-text",[t._v("\n          Try to log into STEM Portal and start your journey in STEM Education!\n        ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary",to:{name:"login"}}},[t._v("OK")])],1)],1)],1)],1)])},a=[],o=r("751a"),s={beforeCreate:function(){this.$store.getters.isLoggedIn&&this.$router.push({name:"home"}),this.$emit("childBusy")},created:function(){var t=this,e=this.$route.params.username,r=this.$route.query,n=r.token,a=r.cancel;o["a"].verifyUser(e,n,a).then((function(r){var n=r.data,a=(n.status,n.message);"cancelled"===a&&(t.header="Token invalidated! Thank you for helping us out"),"verified token"===a&&(t.header="Continue your registration here to use your account",t.username=e,t.activateForm=!0)})).catch((function(t){console.log(t)})).finally((function(){t.$emit("childReady")}))},data:function(){return{username:"",header:"Failed to verify user token",activateForm:!1,role:"",firstName:"",lastName:"",gender:"",school:"",interest:[],roles:["Teacher","Student","Parent"],genders:["Male","Female","Others"],interests:["Science","Technology","Engineering","Mathematics"],rules:{name:[function(t){return!!t||"This field is required"},function(t){return t.length<=20||"Must be less than 20 characters"},function(t){return/^([^0-9]*)$/.test(t)||"Must not contain numbers"}],select:[function(t){return!!t||"This field is required"}],school:[function(t){return!!t||"This field is required"},function(t){return t.length>=6&&t.length<=50||"Must be between 6 to 50 characters"}]},updateSuccess:!1,errorDialog:!1}},methods:{activateUser:function(){var t=this;this.activateForm&&(this.role=this.role.toLowerCase(),this.gender=this.gender.toLowerCase(),o["a"].activateUser(this.username,this.role,this.firstName,this.lastName,this.gender,this.school,this.interest).then((function(e){var r=e.status;204===r&&(t.updateSuccess=!0)})).catch((function(e){console.log(e),t.errorDialog=!0})))}}},i=s,c=r("2877"),u=r("6544"),l=r.n(u),d=r("8336"),f=r("b0af"),p=r("99d9"),h=r("a523"),v=r("169a"),m=r("4bd4"),g=r("0fd9"),b=r("b974"),y=r("2fa4"),w=r("8654"),O=Object(c["a"])(i,n,a,!1,null,null,null);e["default"]=O.exports;l()(O,{VBtn:d["a"],VCard:f["a"],VCardActions:p["a"],VCardText:p["c"],VCardTitle:p["d"],VContainer:h["a"],VDialog:v["a"],VForm:m["a"],VRow:g["a"],VSelect:b["a"],VSpacer:y["a"],VTextField:w["a"]})}}]);
//# sourceMappingURL=chunk-2c2905f3.efee8c82.js.map